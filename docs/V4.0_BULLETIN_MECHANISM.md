# Prometheus v4.0 - å…¬å‘Šæ¿ä½œç”¨æœºåˆ¶è¯¦è§£

## æ ¸å¿ƒé—®é¢˜

1. å…¬å‘Šæ¿ä¿¡æ¯å¦‚ä½•å½±å“Agentï¼Ÿ
2. Agentå¦‚ä½•å†³å®šæ˜¯å¦éµå¾ªï¼Ÿ
3. ä¸ºä»€ä¹ˆæœ‰çš„Agentä¼šéµå¾ªï¼Œæœ‰çš„ä¸ä¼šï¼Ÿ

---

## ä¸€ã€å†³ç­–æ¨¡å‹ï¼šå¤šä¿¡å·èåˆ

### Agentçš„å†³ç­–ä¸æ˜¯å•ä¸€è¾“å…¥

```python
# âŒ é”™è¯¯ï¼šå•ä¸€å†³ç­–
decision = if bulletin.says('buy'): buy()

# âœ… æ­£ç¡®ï¼šå¤šä¿¡å·èåˆ
decision = integrate(
    technical_signals,      # æŠ€æœ¯åˆ†æ
    opponent_signals,       # å¯¹æ‰‹è¡Œä¸º
    bulletin_signals,       # å…¬å‘Šæ¿ä¿¡æ¯
    emotional_state,        # æƒ…ç»ªçŠ¶æ€
    gene_preferences,       # åŸºå› åå¥½
    personality_traits      # æ€§æ ¼ç‰¹è´¨
)
```

### å…¬å‘Šæ¿åªæ˜¯ä¼—å¤šè¾“å…¥ä¹‹ä¸€

```
Agentå†³ç­– = f(
    æŠ€æœ¯æŒ‡æ ‡ Ã— æƒé‡1,
    å¯¹æ‰‹åˆ†æ Ã— æƒé‡2,
    å…¬å‘Šæ¿ä¿¡æ¯ Ã— æƒé‡3,    â† è¿™ä¸ªæƒé‡ç”±åŸºå› å†³å®š
    æƒ…ç»ªçŠ¶æ€ Ã— æƒé‡4,
    ...
)

æ¯ä¸ªAgentçš„æƒé‡é…ç½®ä¸åŒ â†’ ä¸åŒçš„è¡Œä¸ºæ¨¡å¼
```

---

## äºŒã€å…¬å‘Šæ¿ä¿¡æ¯çš„å¤„ç†æµç¨‹

### å®Œæ•´çš„ä¿¡æ¯æµ

```python
class AgentV4:
    """Agentå¦‚ä½•å¤„ç†å…¬å‘Šæ¿ä¿¡æ¯"""
    
    def make_trading_decision(self, market_data):
        """
        å®Œæ•´çš„å†³ç­–æµç¨‹
        """
        # 1. æ”¶é›†æ‰€æœ‰ä¿¡å·æº
        signals = self.collect_all_signals(market_data)
        
        # 2. å¤šä¿¡å·èåˆ
        final_signal = self.integrate_signals(signals)
        
        # 3. æ‰§è¡Œå†³ç­–
        if final_signal > self.gene['threshold']:
            return self.generate_trade_signal('buy')
        elif final_signal < -self.gene['threshold']:
            return self.generate_trade_signal('sell')
        else:
            return None  # ä¸äº¤æ˜“
    
    def collect_all_signals(self, market_data):
        """
        æ”¶é›†æ‰€æœ‰ä¿¡å·æº
        """
        signals = {}
        
        # ä¿¡å·1ï¼šæŠ€æœ¯åˆ†æ
        signals['technical'] = self.analyze_technical(market_data)
        
        # ä¿¡å·2ï¼šå¯¹æ‰‹åˆ†æ
        signals['opponent'] = self.analyze_opponent(market_data)
        
        # ä¿¡å·3ï¼šå…¬å‘Šæ¿ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰
        if self.should_check_bulletin():
            signals['bulletin'] = self.process_bulletin_board()
        else:
            signals['bulletin'] = 0  # ä¸å…³æ³¨åˆ™ä¸º0
        
        # ä¿¡å·4ï¼šæƒ…ç»ªçŠ¶æ€
        signals['emotion'] = self.get_emotional_bias()
        
        return signals
    
    def integrate_signals(self, signals):
        """
        å¤šä¿¡å·èåˆï¼ˆå…³é”®æ–¹æ³•ï¼‰
        """
        # æ¯ä¸ªä¿¡å·çš„æƒé‡ç”±åŸºå› å†³å®š
        integrated_signal = (
            signals['technical'] * self.gene['technical_weight'] +
            signals['opponent'] * self.gene['opponent_weight'] +
            signals['bulletin'] * self.gene['bulletin_weight'] +    # â† å…³é”®
            signals['emotion'] * self.gene['emotion_weight']
        )
        
        # å½’ä¸€åŒ–
        total_weight = (
            self.gene['technical_weight'] +
            self.gene['opponent_weight'] +
            self.gene['bulletin_weight'] +
            self.gene['emotion_weight']
        )
        
        return integrated_signal / total_weight
```

---

## ä¸‰ã€åŸºå› æ§åˆ¶å…¬å‘Šæ¿æƒé‡

### åŸºå› ä¸­çš„å…¬å‘Šæ¿å‚æ•°

```python
def generate_random_gene():
    """
    åŸºå› ä¸­åŒ…å«å…¬å‘Šæ¿ç›¸å…³å‚æ•°
    """
    gene = {
        # ä¼ ç»Ÿå‚æ•°
        'technical_weight': random.uniform(0.2, 0.8),
        'opponent_weight': random.uniform(0.2, 0.8),
        
        # å…¬å‘Šæ¿ç›¸å…³ï¼ˆæ–°å¢ï¼‰
        'bulletin_weight': random.uniform(0.0, 0.5),  # å…¬å‘Šæ¿æƒé‡
        
        'bulletin_sensitivity': {
            'global': random.uniform(0, 1),    # å¯¹ä¸»è„‘å…¬å‘Šçš„æ•æ„Ÿåº¦
            'market': random.uniform(0, 1),    # å¯¹å¸‚åœºäº‹ä»¶çš„æ•æ„Ÿåº¦
            'system': random.uniform(0, 1),    # å¯¹ç³»ç»Ÿè­¦å‘Šçš„æ•æ„Ÿåº¦
            'social': random.uniform(0, 1)     # å¯¹ç¤¾äº¤ä¿¡å·çš„æ•æ„Ÿåº¦
        },
        
        'bulletin_trust_decay': random.uniform(0.5, 1.0),  # ä¿¡ä»»è¡°å‡ç‡
        
        ...
    }
    return gene
```

### ä¸åŒåŸºå›  â†’ ä¸åŒè¡Œä¸º

```python
# Agent Aï¼šç‹¬ç«‹å‹ï¼ˆä½å…¬å‘Šæ¿æƒé‡ï¼‰
Agent_A.gene = {
    'technical_weight': 0.6,
    'opponent_weight': 0.3,
    'bulletin_weight': 0.1,     # å¾ˆä½ï¼å‡ ä¹ä¸å‚è€ƒ
    'bulletin_sensitivity': {
        'global': 0.2,
        'market': 0.3,
        'system': 0.5,           # åªå…³æ³¨é£é™©è­¦å‘Š
        'social': 0.0            # å®Œå…¨ä¸å…³æ³¨ç¤¾äº¤
    }
}

# Agent Bï¼šç¤¾äº¤å‹ï¼ˆé«˜å…¬å‘Šæ¿æƒé‡ï¼‰
Agent_B.gene = {
    'technical_weight': 0.3,
    'opponent_weight': 0.2,
    'bulletin_weight': 0.5,     # å¾ˆé«˜ï¼é«˜åº¦å‚è€ƒ
    'bulletin_sensitivity': {
        'global': 0.9,
        'market': 0.8,
        'system': 0.7,
        'social': 0.9            # é«˜åº¦å…³æ³¨ç¤¾äº¤ä¿¡å·
    }
}

# Agent Cï¼šå¹³è¡¡å‹
Agent_C.gene = {
    'technical_weight': 0.4,
    'opponent_weight': 0.3,
    'bulletin_weight': 0.3,     # é€‚åº¦å‚è€ƒ
    'bulletin_sensitivity': {
        'global': 0.6,
        'market': 0.7,
        'system': 0.8,           # é‡è§†é£é™©
        'social': 0.4
    }
}
```

---

## å››ã€å…¬å‘Šæ¿ä¿¡å·å¤„ç†

### å°†å…¬å‘Šè½¬æ¢ä¸ºäº¤æ˜“ä¿¡å·

```python
def process_bulletin_board(self):
    """
    å¤„ç†å…¬å‘Šæ¿ä¿¡æ¯ï¼Œè½¬æ¢ä¸ºäº¤æ˜“ä¿¡å·
    
    Returns:
        float: -1.0åˆ°1.0çš„ä¿¡å·å€¼
    """
    # 1. è·å–æœ€è¿‘çš„å…¬å‘Š
    bulletins = bulletin_board.get_recent(hours=24)
    
    if not bulletins:
        return 0.0  # æ²¡æœ‰å…¬å‘Š
    
    # 2. æ ¹æ®åŸºå› è¿‡æ»¤ç›¸å…³å…¬å‘Š
    relevant_bulletins = self.filter_bulletins(bulletins)
    
    # 3. è®¡ç®—ç»¼åˆä¿¡å·
    signal = 0.0
    total_weight = 0.0
    
    for bulletin in relevant_bulletins:
        # 3.1 æ ¹æ®ç±»å‹è·å–æ•æ„Ÿåº¦
        sensitivity = self.gene['bulletin_sensitivity'][bulletin.type]
        
        # 3.2 è§£æå…¬å‘Šå†…å®¹
        bulletin_signal = self.interpret_bulletin(bulletin)
        
        # 3.3 åº”ç”¨ä¿¡ä»»åº¦å’Œæ—¶é—´è¡°å‡
        trust = self.calculate_trust(bulletin)
        time_decay = self.calculate_time_decay(bulletin)
        
        # 3.4 åŠ æƒç´¯åŠ 
        weight = sensitivity * trust * time_decay
        signal += bulletin_signal * weight
        total_weight += weight
    
    # 4. å½’ä¸€åŒ–
    if total_weight > 0:
        return signal / total_weight
    else:
        return 0.0
```

### è§£è¯»å…¬å‘Šå†…å®¹

```python
def interpret_bulletin(self, bulletin):
    """
    è§£è¯»å…¬å‘Šå†…å®¹ï¼Œè½¬æ¢ä¸ºä¿¡å·
    
    ä¸åŒAgentå¯èƒ½æœ‰ä¸åŒçš„è§£è¯»ï¼
    """
    if bulletin.type == 'MASTERMIND_STRATEGIC':
        # ä¸»è„‘æˆ˜ç•¥å…¬å‘Š
        if 'bearish' in bulletin.content.lower():
            signal = -0.5  # çœ‹ç©º
        elif 'bullish' in bulletin.content.lower():
            signal = 0.5   # çœ‹å¤š
        else:
            signal = 0.0
    
    elif bulletin.type == 'MARKET_EVENT':
        # å¸‚åœºäº‹ä»¶
        if bulletin.impact == 'high':
            # æ ¹æ®æƒ…ç»ªåˆ¤æ–­
            if bulletin.sentiment == 'positive':
                signal = 0.7
            elif bulletin.sentiment == 'negative':
                signal = -0.7
            else:
                signal = 0.0
        else:
            signal = 0.2 * (1 if bulletin.sentiment == 'positive' else -1)
    
    elif bulletin.type == 'RISK_WARNING':
        # é£é™©è­¦å‘Šï¼ˆé€šå¸¸çœ‹ç©ºï¼‰
        if bulletin.severity == 'critical':
            signal = -0.8
        elif bulletin.severity == 'high':
            signal = -0.5
        else:
            signal = -0.2
    
    elif bulletin.type == 'AGENT_SIGNAL':
        # å…¶ä»–Agentçš„ä¿¡å·
        # éœ€è¦è€ƒè™‘å‘å¸ƒè€…çš„ä¿¡èª‰
        signal = bulletin.signal * bulletin.credibility
    
    # åº”ç”¨æ€§æ ¼ä¿®æ­£
    signal = self.apply_personality_bias(signal, bulletin)
    
    return signal
```

### æ€§æ ¼å½±å“è§£è¯»

```python
def apply_personality_bias(self, signal, bulletin):
    """
    æ€§æ ¼å½±å“å¯¹å…¬å‘Šçš„è§£è¯»
    
    åŒæ ·çš„å…¬å‘Šï¼Œä¸åŒæ€§æ ¼çš„Agentç†è§£ä¸åŒï¼
    """
    # é€†å‘å‹Agentï¼šåå‘è§£è¯»
    if self.personality.contrarian > 0.7:
        if bulletin.type == 'MARKET_EVENT':
            # å¤§å®¶éƒ½çœ‹å¤šï¼Œæˆ‘çœ‹ç©º
            signal *= -0.5
    
    # ä»ä¼—å‹Agentï¼šæ”¾å¤§ä¿¡å·
    if self.personality.herd_mentality > 0.7:
        signal *= 1.5
    
    # è°¨æ…å‹Agentï¼šåªå…³æ³¨é£é™©
    if self.personality.risk_tolerance < 0.3:
        if signal > 0:
            signal *= 0.5  # å‡å¼±çœ‹å¤šä¿¡å·
        else:
            signal *= 1.5  # æ”¾å¤§çœ‹ç©ºä¿¡å·
    
    # ä¹è§‚å‹Agentï¼šä¹è§‚è§£è¯»
    if self.personality.optimism > 0.7:
        signal += 0.2  # æ€»æ˜¯åä¹è§‚
    
    return signal
```

---

## äº”ã€ä¿¡ä»»åº¦å­¦ä¹ æœºåˆ¶

### Agentå­¦ä¹ å“ªäº›å…¬å‘Šæœ‰ç”¨

```python
class BulletinTrustLearning:
    """Agentå­¦ä¹ å…¬å‘Šå¯ä¿¡åº¦"""
    
    def __init__(self):
        # è®°å½•å†å²ï¼šæ ¹æ®å…¬å‘Šåšå†³ç­–çš„ç»“æœ
        self.bulletin_history = {
            'global': [],  # [{'followed': True, 'result': 0.05}, ...]
            'market': [],
            'system': [],
            'social': []
        }
    
    def record_outcome(self, bulletin_type, followed, result):
        """
        è®°å½•æ ¹æ®å…¬å‘Šè¡ŒåŠ¨çš„ç»“æœ
        """
        self.bulletin_history[bulletin_type].append({
            'followed': followed,
            'result': result,
            'timestamp': datetime.now()
        })
    
    def calculate_trust(self, bulletin_type):
        """
        è®¡ç®—å¯¹æŸç±»å…¬å‘Šçš„ä¿¡ä»»åº¦
        
        åŸºäºå†å²è¡¨ç°
        """
        history = self.bulletin_history[bulletin_type]
        
        if len(history) < 5:
            return 0.5  # é»˜è®¤ä¸­ç­‰ä¿¡ä»»
        
        # åªçœ‹æœ€è¿‘çš„è®°å½•
        recent = history[-20:]
        
        # è®¡ç®—è·Ÿéšå…¬å‘Šæ—¶çš„å¹³å‡æ”¶ç›Š
        followed_results = [h['result'] for h in recent if h['followed']]
        
        if not followed_results:
            return 0.5
        
        avg_result = sum(followed_results) / len(followed_results)
        
        # è½¬æ¢ä¸ºä¿¡ä»»åº¦ (0-1)
        if avg_result > 0:
            trust = 0.5 + min(avg_result * 5, 0.5)  # æœ€é«˜1.0
        else:
            trust = 0.5 + max(avg_result * 5, -0.5)  # æœ€ä½0.0
        
        return trust
```

### ä¿¡ä»»åº¦å½±å“æƒé‡

```python
def process_bulletin_with_learning(self):
    """
    è€ƒè™‘å­¦ä¹ åˆ°çš„ä¿¡ä»»åº¦
    """
    bulletins = bulletin_board.get_recent()
    signal = 0.0
    
    for bulletin in bulletins:
        # 1. åŸºå› æ•æ„Ÿåº¦ï¼ˆå…ˆå¤©ï¼‰
        gene_sensitivity = self.gene['bulletin_sensitivity'][bulletin.type]
        
        # 2. å­¦ä¹ çš„ä¿¡ä»»åº¦ï¼ˆåå¤©ï¼‰
        learned_trust = self.trust_learning.calculate_trust(bulletin.type)
        
        # 3. ç»¼åˆæƒé‡ = å…ˆå¤© Ã— åå¤©
        final_weight = gene_sensitivity * learned_trust
        
        # 4. å¦‚æœç»¼åˆæƒé‡å¤ªä½ï¼Œè·³è¿‡è¿™ä¸ªå…¬å‘Š
        if final_weight < 0.1:
            continue
        
        # 5. å¤„ç†å…¬å‘Š
        bulletin_signal = self.interpret_bulletin(bulletin)
        signal += bulletin_signal * final_weight
    
    return signal
```

---

## å…­ã€å®é™…æ¡ˆä¾‹åˆ†æ

### æ¡ˆä¾‹1ï¼šä¸»è„‘å‘å¸ƒ"å¸‚åœºè½¬ç†Š"å…¬å‘Š

```python
å…¬å‘Šå†…å®¹ï¼š
"""
ã€ä¸»è„‘æˆ˜ç•¥å…¬å‘Šã€‘
å¸‚åœºçŠ¶æ€ï¼šç‰›å¸‚è½¬ç†Šå¸‚
å»ºè®®ï¼šé™ä½é£é™©ï¼Œä¿å®ˆæ“ä½œ
"""

# Agent Aï¼ˆç‹¬ç«‹å‹ï¼Œbulletin_weight=0.1ï¼‰
Agent_A.å†³ç­–è¿‡ç¨‹ï¼š
â”œâ”€ æŠ€æœ¯ä¿¡å·ï¼š+0.5ï¼ˆMAä¸Šç©¿ï¼Œçœ‹å¤šï¼‰
â”œâ”€ å¯¹æ‰‹ä¿¡å·ï¼š+0.3ï¼ˆæ•£æˆ·ææ…Œï¼ŒæŠ„åº•ï¼‰
â”œâ”€ å…¬å‘Šä¿¡å·ï¼š-0.6ï¼ˆä¸»è„‘çœ‹ç©ºï¼‰
â””â”€ ç»¼åˆä¿¡å·ï¼š
    0.5Ã—0.6 + 0.3Ã—0.3 + (-0.6)Ã—0.1 = 0.3 - 0.06 = +0.24
    â†’ å†³å®šï¼šä¹°å…¥ï¼ˆå…¬å‘Šå½±å“å¾ˆå°ï¼‰

# Agent Bï¼ˆç¤¾äº¤å‹ï¼Œbulletin_weight=0.5ï¼‰
Agent_B.å†³ç­–è¿‡ç¨‹ï¼š
â”œâ”€ æŠ€æœ¯ä¿¡å·ï¼š+0.5
â”œâ”€ å¯¹æ‰‹ä¿¡å·ï¼š+0.3
â”œâ”€ å…¬å‘Šä¿¡å·ï¼š-0.6ï¼ˆä¸»è„‘çœ‹ç©ºï¼‰
â””â”€ ç»¼åˆä¿¡å·ï¼š
    0.5Ã—0.3 + 0.3Ã—0.2 + (-0.6)Ã—0.5 = 0.15 + 0.06 - 0.3 = -0.09
    â†’ å†³å®šï¼šä¸äº¤æ˜“æˆ–å°å¹…å–å‡ºï¼ˆå…¬å‘Šå½±å“å¤§ï¼‰

# Agent Cï¼ˆé€†å‘å‹ï¼‰
Agent_C.å†³ç­–è¿‡ç¨‹ï¼š
â”œâ”€ å…¬å‘Šä¿¡å·ï¼š-0.6ï¼ˆä¸»è„‘çœ‹ç©ºï¼‰
â”œâ”€ æ€§æ ¼ä¿®æ­£ï¼šÃ—(-0.5)ï¼ˆé€†å‘æ€ç»´ï¼‰
â”œâ”€ ä¿®æ­£åä¿¡å·ï¼š+0.3ï¼ˆåå‘ï¼ï¼‰
â””â”€ å†³å®šï¼šä¹°å…¥ï¼ˆæ•…æ„åç€æ¥ï¼‰

ç»“æœï¼š
åŒä¸€ä¸ªå…¬å‘Šï¼Œä¸‰ä¸ªAgentåšå‡ºä¸åŒå†³ç­–ï¼
```

### æ¡ˆä¾‹2ï¼šé£é™©è­¦å‘Šå…¬å‘Š

```python
å…¬å‘Šå†…å®¹ï¼š
"""
ã€ç³»ç»Ÿè­¦å‘Šã€‘
æ£€æµ‹åˆ°å¤§é‡æ­¢æŸé›†ä¸­äº50000
é£é™©ï¼šå¯èƒ½è§¦å‘è¿é”æ­¢æŸ
"""

# Agent Dï¼ˆè°¨æ…å‹ï¼Œé£é™©æ•æ„Ÿï¼‰
Agent_D.å†³ç­–ï¼š
â”œâ”€ å¯¹ç³»ç»Ÿè­¦å‘Šæ•æ„Ÿåº¦ï¼š0.9
â”œâ”€ ä¿¡å·ï¼š-0.8ï¼ˆå¼ºçƒˆçœ‹ç©ºï¼‰
â”œâ”€ æƒé‡ï¼š0.9 Ã— 0.8 = 0.72
â””â”€ å†³å®šï¼šç«‹å³å¹³ä»“é¿é™©

# Agent Eï¼ˆæ¿€è¿›å‹ï¼Œé£é™©è¿Ÿé’ï¼‰
Agent_E.å†³ç­–ï¼š
â”œâ”€ å¯¹ç³»ç»Ÿè­¦å‘Šæ•æ„Ÿåº¦ï¼š0.2
â”œâ”€ ä¿¡å·ï¼š-0.8
â”œâ”€ æƒé‡ï¼š0.2 Ã— 0.8 = 0.16
â””â”€ å†³å®šï¼šå¿½ç•¥è­¦å‘Šï¼Œç»§ç»­æŒä»“

# Agent Fï¼ˆå¥—åˆ©å‹ï¼Œçœ‹ä½œæœºä¼šï¼‰
Agent_F.å†³ç­–ï¼š
â”œâ”€ å¯¹ç³»ç»Ÿè­¦å‘Šæ•æ„Ÿåº¦ï¼š0.7
â”œâ”€ ä¿¡å·ï¼š-0.8
â”œâ”€ æ€§æ ¼ä¿®æ­£ï¼šçœ‹ä½œå¥—åˆ©æœºä¼š
â”œâ”€ æœ€ç»ˆä¿¡å·ï¼š+0.5ï¼ˆåè½¬ï¼‰
â””â”€ å†³å®šï¼šå‡†å¤‡æŠ„åº•ï¼ˆæ­¢æŸè§¦å‘åä¹°å…¥ï¼‰

ç»“æœï¼š
åŒä¸€ä¸ªè­¦å‘Šï¼Œååº”å®Œå…¨ä¸åŒï¼
```

### æ¡ˆä¾‹3ï¼šAgentåˆ†äº«ä¿¡å·

```python
å…¬å‘Šå†…å®¹ï¼š
"""
ã€Agent-045ä¿¡å·ã€‘
å‘ç°ï¼šå‡Œæ™¨2-4ç‚¹æŸBotæœ‰è§„å¾‹
ç½®ä¿¡åº¦ï¼š0.85
å‘å¸ƒè€…ä¿¡èª‰ï¼š0.95ï¼ˆä¼ å¥‡Agentï¼‰
"""

# Agent Gï¼ˆç¤¾äº¤å‹ï¼Œå…³æ³¨ç¤¾äº¤ä¿¡å·ï¼‰
Agent_G.å†³ç­–ï¼š
â”œâ”€ å¯¹ç¤¾äº¤ä¿¡å·æ•æ„Ÿåº¦ï¼š0.9
â”œâ”€ å‘å¸ƒè€…ä¿¡èª‰ï¼š0.95
â”œâ”€ ç»¼åˆæƒé‡ï¼š0.9 Ã— 0.95 = 0.855
â”œâ”€ ä¿¡å·ï¼š+0.7ï¼ˆæ­£é¢ï¼‰
â””â”€ å†³å®šï¼šå­¦ä¹ å¹¶å°è¯•è¿™ä¸ªæ¨¡å¼

# Agent Hï¼ˆç‹¬ç«‹å‹ï¼Œä¸å…³æ³¨ç¤¾äº¤ï¼‰
Agent_H.å†³ç­–ï¼š
â”œâ”€ å¯¹ç¤¾äº¤ä¿¡å·æ•æ„Ÿåº¦ï¼š0.0
â”œâ”€ æƒé‡ï¼š0.0
â””â”€ å†³å®šï¼šå®Œå…¨å¿½ç•¥

# Agent Iï¼ˆè°¨æ…å‹ï¼Œè§‚å¯Ÿåå†³å®šï¼‰
Agent_I.å†³ç­–ï¼š
â”œâ”€ å¯¹ç¤¾äº¤ä¿¡å·æ•æ„Ÿåº¦ï¼š0.5
â”œâ”€ ä½†ä¿¡ä»»åº¦ï¼š0.3ï¼ˆéœ€è¦éªŒè¯ï¼‰
â”œâ”€ ç»¼åˆæƒé‡ï¼š0.5 Ã— 0.3 = 0.15
â””â”€ å†³å®šï¼šè½»åº¦å°è¯•ï¼Œè§‚å¯Ÿæ•ˆæœ

ç»“æœï¼š
ä¿¡æ¯ä¼ æ’­ï¼Œä½†ä¸æ˜¯ç»Ÿä¸€è¡ŒåŠ¨ï¼
```

---

## ä¸ƒã€è¿›åŒ–å‹åŠ›ï¼šæœ€ä¼˜å…¬å‘Šæ¿æƒé‡

### å¸‚åœºä¼šé€‰æ‹©æœ€ä¼˜é…ç½®

```python
è¿›åŒ–è¿‡ç¨‹ï¼š

ç¬¬ä¸€ä»£ï¼ˆéšæœºï¼‰ï¼š
â”œâ”€ 30% Agentï¼šbulletin_weight=0.0-0.2ï¼ˆå‡ ä¹ä¸çœ‹ï¼‰
â”œâ”€ 40% Agentï¼šbulletin_weight=0.2-0.4ï¼ˆé€‚åº¦å‚è€ƒï¼‰
â””â”€ 30% Agentï¼šbulletin_weight=0.4-0.6ï¼ˆé«˜åº¦ä¾èµ–ï¼‰

å¸‚åœºæ£€éªŒï¼ˆå‡è®¾ï¼‰ï¼š
â”œâ”€ å®Œå…¨å¿½è§†ï¼šæ­»äº¡ç‡é«˜ï¼ˆé”™è¿‡é‡è¦é£é™©è­¦å‘Šï¼‰
â”œâ”€ é€‚åº¦å‚è€ƒï¼šå­˜æ´»ç‡æœ€é«˜ï¼ˆå¹³è¡¡ï¼‰
â””â”€ è¿‡åº¦ä¾èµ–ï¼šè¡¨ç°ä¸€èˆ¬ï¼ˆå¤±å»è‡ªä¸»æ€§ï¼‰

ç¬¬äºŒä»£ï¼ˆè‡ªç„¶é€‰æ‹©åï¼‰ï¼š
â”œâ”€ 10% Agentï¼šbulletin_weight=0.0-0.2
â”œâ”€ 70% Agentï¼šbulletin_weight=0.2-0.4  â† ä¸»æµ
â””â”€ 20% Agentï¼šbulletin_weight=0.4-0.6

ç»“æœï¼š
å¸‚åœºè‡ªç„¶é€‰æ‹©å‡ºæœ€ä¼˜çš„å…¬å‘Šæ¿æƒé‡ï¼
å¯èƒ½æ˜¯0.3å·¦å³ï¼ˆé€‚åº¦å‚è€ƒï¼‰
```

### ä¸åŒå¸‚åœºç¯å¢ƒ â†’ ä¸åŒæœ€ä¼˜å€¼

```python
ç‰›å¸‚ç¯å¢ƒï¼š
â”œâ”€ å…¬å‘Šæ¿ä»·å€¼è¾ƒä½ï¼ˆé¡ºåŠ¿å³å¯ï¼‰
â”œâ”€ æœ€ä¼˜ bulletin_weightï¼š0.2
â””â”€ æŠ€æœ¯åˆ†ææ›´é‡è¦

ç†Šå¸‚ç¯å¢ƒï¼š
â”œâ”€ é£é™©è­¦å‘Šä»·å€¼é«˜
â”œâ”€ æœ€ä¼˜ bulletin_weightï¼š0.4
â””â”€ é£é™©ç®¡ç†æ›´é‡è¦

éœ‡è¡å¸‚åœºï¼š
â”œâ”€ å¯¹æ‰‹åˆ†ææ›´é‡è¦
â”œâ”€ æœ€ä¼˜ bulletin_weightï¼š0.3
â””â”€ åšå¼ˆèƒ½åŠ›å†³å®š

ç»“æœï¼š
æœ€ä¼˜æƒé‡ä¼šéšå¸‚åœºåŠ¨æ€è°ƒæ•´ï¼
```

---

## å…«ã€ç›‘ç£è€…çš„è§‚å¯Ÿ

### ç›‘ç£è€…ä¸å¼ºåˆ¶ï¼Œä½†è§‚å¯Ÿ

```python
class Supervisor:
    """ç›‘ç£è€…è§‚å¯Ÿå…¬å‘Šæ¿æ•ˆæœ"""
    
    def analyze_bulletin_effectiveness(self):
        """
        åˆ†æå…¬å‘Šæ¿å¯¹Agentçš„å½±å“
        
        ä¸æ˜¯ä¸ºäº†æ§åˆ¶ï¼Œè€Œæ˜¯ä¸ºäº†ï¼š
        1. è¯„ä¼°ä¿¡æ¯è´¨é‡
        2. ä¼˜åŒ–å…¬å‘Šå†…å®¹
        3. è¯†åˆ«æœ€æœ‰ä»·å€¼çš„ä¿¡æ¯ç±»å‹
        """
        results = {
            'followed_rate': {},  # å„ç±»å…¬å‘Šè¢«éµå¾ªçš„æ¯”ä¾‹
            'success_rate': {},   # éµå¾ªåçš„æˆåŠŸç‡
            'avg_weight': {}      # Agentå¹³å‡æƒé‡
        }
        
        for bulletin_type in ['global', 'market', 'system', 'social']:
            # ç»Ÿè®¡å¤šå°‘Agentå…³æ³¨è¿™ç±»å…¬å‘Š
            attentive_agents = [
                a for a in agents 
                if a.gene['bulletin_sensitivity'][bulletin_type] > 0.5
            ]
            
            results['followed_rate'][bulletin_type] = (
                len(attentive_agents) / len(agents)
            )
            
            # ç»Ÿè®¡éµå¾ªè¿™ç±»å…¬å‘Šçš„Agentè¡¨ç°
            performances = [a.performance for a in attentive_agents]
            results['success_rate'][bulletin_type] = (
                np.mean(performances)
            )
        
        # å‘ç°ï¼š
        # - å¦‚æœæŸç±»å…¬å‘Šéµå¾ªç‡é«˜ä½†æˆåŠŸç‡ä½ â†’ å…¬å‘Šè´¨é‡å·®
        # - å¦‚æœæŸç±»å…¬å‘Šéµå¾ªç‡ä½ä½†æˆåŠŸç‡é«˜ â†’ ä¿¡æ¯è¢«ä½ä¼°
        
        return results
```

---

## ä¹ã€æ€»ç»“

### å…¬å‘Šæ¿å¦‚ä½•å‘æŒ¥ä½œç”¨ï¼Ÿ

```
å…¬å‘Šæ¿å‘å¸ƒä¿¡æ¯
    â†“
Agentæ ¹æ®åŸºå› æ„ŸçŸ¥ï¼ˆæƒé‡0.0-0.6ï¼‰
    â†“
Agentæ ¹æ®æ€§æ ¼è§£è¯»ï¼ˆå¯èƒ½åå‘ï¼‰
    â†“
Agentæ ¹æ®ç»éªŒè°ƒæ•´ï¼ˆå­¦ä¹ ä¿¡ä»»åº¦ï¼‰
    â†“
ä¿¡å·èåˆï¼ˆæŠ€æœ¯+å¯¹æ‰‹+å…¬å‘Š+æƒ…ç»ªï¼‰
    â†“
æœ€ç»ˆå†³ç­–ï¼ˆæ¯ä¸ªAgentéƒ½ä¸åŒï¼‰
```

### Agentå¦‚ä½•é€‰æ‹©æ˜¯å¦éµå¾ªï¼Ÿ

```
ä¸‰å±‚æ§åˆ¶ï¼š

1. åŸºå› å±‚ï¼ˆå…ˆå¤©ï¼‰
   bulletin_weight: 0.1 â†’ å‡ ä¹ä¸å‚è€ƒ
   bulletin_weight: 0.5 â†’ é«˜åº¦å‚è€ƒ

2. æ€§æ ¼å±‚ï¼ˆç‰¹è´¨ï¼‰
   independence: 0.9 â†’ å€¾å‘å¿½è§†
   herd_mentality: 0.8 â†’ å€¾å‘éµå¾ª
   contrarian: 0.8 â†’ å¯èƒ½åå‘

3. å­¦ä¹ å±‚ï¼ˆç»éªŒï¼‰
   trust: 0.8 â†’ å¢å¼ºæƒé‡
   trust: 0.2 â†’ é™ä½æƒé‡
```

### ä¸ºä»€ä¹ˆä¸ä¼šæ‰€æœ‰Agentç»Ÿä¸€è¡ŒåŠ¨ï¼Ÿ

```
åŸå› 1ï¼šåŸºå› ä¸åŒ
â”œâ”€ Agent A: bulletin_weight=0.1
â”œâ”€ Agent B: bulletin_weight=0.3
â””â”€ Agent C: bulletin_weight=0.5

åŸå› 2ï¼šæ€§æ ¼ä¸åŒ
â”œâ”€ Agent A: ç‹¬ç«‹å‹ï¼ˆå¿½è§†ï¼‰
â”œâ”€ Agent B: é€†å‘å‹ï¼ˆåå‘ï¼‰
â””â”€ Agent C: ä»ä¼—å‹ï¼ˆéµå¾ªï¼‰

åŸå› 3ï¼šç»éªŒä¸åŒ
â”œâ”€ Agent A: å†å²ä¸Šéµå¾ªå…¬å‘ŠäºæŸ â†’ ä¸ä¿¡ä»»
â”œâ”€ Agent B: å†å²ä¸Šéµå¾ªå…¬å‘Šç›ˆåˆ© â†’ ä¿¡ä»»
â””â”€ Agent C: æ–°Agent â†’ ä¸­ç«‹

åŸå› 4ï¼šå½“å‰çŠ¶æ€ä¸åŒ
â”œâ”€ Agent A: å·²æŒæœ‰å¤šå¤´ â†’ å¿½ç•¥çœ‹ç©ºä¿¡å·
â”œâ”€ Agent B: ç©ºä»“ â†’ å…³æ³¨æ‰€æœ‰ä¿¡å·
â””â”€ Agent C: æµ®ç›ˆ â†’ è°¨æ…å¯¹å¾…é£é™©

ç»“æœï¼šå¤šæ ·æ€§ååº”ï¼
```

---

## åã€å…³é”®ä»£ç ç¤ºä¾‹

### å®Œæ•´çš„å†³ç­–å‡½æ•°

```python
class AgentV4:
    def make_trading_decision(self, market_data):
        """å®Œæ•´å†³ç­–æµç¨‹"""
        
        # 1. æ”¶é›†æ‰€æœ‰ä¿¡å·
        signals = {}
        
        # 1.1 æŠ€æœ¯åˆ†æ
        signals['technical'] = self.analyze_technical(market_data)
        
        # 1.2 å¯¹æ‰‹åˆ†æ
        signals['opponent'] = self.analyze_opponent(market_data)
        
        # 1.3 å…¬å‘Šæ¿ï¼ˆå…³é”®ï¼‰
        if self.gene['bulletin_weight'] > 0.1:  # æƒé‡å¤Ÿé«˜æ‰æ£€æŸ¥
            bulletins = bulletin_board.get_recent()
            signals['bulletin'] = self.process_bulletins(bulletins)
        else:
            signals['bulletin'] = 0.0
        
        # 1.4 æƒ…ç»ªçŠ¶æ€
        signals['emotion'] = self.get_emotional_bias()
        
        # 2. å¤šä¿¡å·èåˆ
        final_signal = (
            signals['technical'] * self.gene['technical_weight'] +
            signals['opponent'] * self.gene['opponent_weight'] +
            signals['bulletin'] * self.gene['bulletin_weight'] +
            signals['emotion'] * self.gene['emotion_weight']
        )
        
        # 3. å½’ä¸€åŒ–
        total_weight = sum([
            self.gene['technical_weight'],
            self.gene['opponent_weight'],
            self.gene['bulletin_weight'],
            self.gene['emotion_weight']
        ])
        
        final_signal /= total_weight
        
        # 4. æ ¹æ®ä¿¡å·å¼ºåº¦å†³ç­–
        if final_signal > self.gene['threshold']:
            return 'BUY'
        elif final_signal < -self.gene['threshold']:
            return 'SELL'
        else:
            return 'HOLD'
```

---

**å…¬å‘Šæ¿é€šè¿‡"æƒé‡"å½±å“ï¼Œè€Œé"å‘½ä»¤"ï¼** ğŸ“Š

æœ€åæ›´æ–°ï¼š2025å¹´12æœˆ1æ—¥

