# V11 Note — Tickless / Event-Driven World (De-fence) — 2025-12-30

目的：记录一个可能的“无 tick（tickless）演化环境”方向（非实现指令）。该方向旨在暴露并去除一个潜在隐性围栏：把“tick 作为自然时间刻度”的默认假设改为**事件驱动**的可审计坐标系。

本文件只允许追加（additive-only）。

---

## 1) 核心设想（写实）

在 tickless 环境中：
- 世界状态主要由 **交易所事件到达频度** 驱动更新（行情/订单状态/成交/账单/风险状态等真值事件）。
- Agent 不再按固定 tick 轮询决策，而是被 **可审计触发事件** 唤醒进行一次决策（intent-only）。

---

## 2) 必须的边界（防失控）

为避免“交易所想给多快就多快 → 系统被事件洪水打爆”，tickless 环境必须具备：

- **世界级预算/节流器（world budget / throttling）**：
  - 限制事件消费速率、API 请求预算、写盘预算；
  - 提供去抖/合并规则（例如同类行情事件在窗口内合并为一次触发）。

- **触发器规则冻结（trigger rules freeze）**：
  - 触发条件必须版本化、可审计、可复现；
  - 必须记录每次触发的证据来源（evidence_refs）。

- **内部事实事件同等重要**：
  - intent 发出、下单 ack、P2 终态、审计结论、fail-closed STOP 等，都是系统可审计性的骨架；
  - 这些内部事件也应作为触发源的一部分。

---

## 3) 与当前 V11 主线关系（不冲突）

- 该方向不要求立即修改当前 tick runner。
- 可先在 tick 世界里用“事件计数/不可逆事件计数/代谢观测”等方式逐步转向事件坐标系（只输出观测，不改基线）。
- 真正迁移到在线 event-driven runner 属于更大版本研究（V12+ 候选）。

---

## 4) 待讨论问题（开放）

- 最小触发器集合是什么（3–5 条）？如何避免把触发阈值变成新围栏？
- 事件排序/重放（replay）如何保证可复现？
- tickless 环境下的“寿命/审判触发”应以什么事件尺度定义（闭环事件数/不可逆事件/连续时间）？


