# Prometheus v4.0 - åšå¼ˆè®ºä¸å¯¹æ‰‹åˆ†æ

## æ ¸å¿ƒé—®é¢˜

**åœ¨OKXäº¤æ˜“æ‰€ï¼ŒAgentçš„å¯¹æ‰‹æ˜¯ï¼š**
- ğŸ‘¤ æ•£æˆ·ï¼ˆäººç±»ï¼Œæƒ…ç»ªåŒ–ï¼‰
- ğŸ¤– é‡åŒ–ç³»ç»Ÿï¼ˆå…¶ä»–Botï¼‰
- ğŸ¦ åšå¸‚å•†ï¼ˆæä¾›æµåŠ¨æ€§ï¼‰
- ğŸ¢ æœºæ„ï¼ˆå¤§èµ„é‡‘ï¼Œä¸“ä¸šï¼‰
- ğŸ³ å·¨é²¸ï¼ˆè¶…å¤§èµ„é‡‘ï¼‰

**æˆ‘ä»¬ä¸æ˜¯åœ¨é¢„æµ‹å¸‚åœºï¼Œè€Œæ˜¯åœ¨ä¸å¯¹æ‰‹åšå¼ˆï¼**

---

## ä¸€ã€å¯¹æ‰‹ç”»åƒ

### 1. æ•£æˆ·ï¼ˆ70-80%äº¤æ˜“é‡ï¼‰

#### ç‰¹å¾
```
å¿ƒç†ç‰¹ç‚¹ï¼š
â”œâ”€ è¿½æ¶¨æ€è·Œï¼ˆFOMOï¼‰
â”œâ”€ ææ…ŒæŠ›å”®
â”œâ”€ è´ªå©ªæŒä»“
â””â”€ æƒ…ç»ªåŒ–å†³ç­–

è¡Œä¸ºæ¨¡å¼ï¼š
â”œâ”€ åœ¨é«˜ç‚¹ä¹°å…¥
â”œâ”€ åœ¨ä½ç‚¹å–å‡º
â”œâ”€ é¢‘ç¹æ­¢æŸ
â”œâ”€ ä¸è®¾æ­¢ç›ˆ
â””â”€ æŒä»“æ—¶é—´çŸ­

æŠ€æœ¯æ°´å¹³ï¼š
â”œâ”€ çœ‹ç®€å•æŒ‡æ ‡ï¼ˆMAã€MACDï¼‰
â”œâ”€ è¿½çƒ­ç‚¹æ–°é—»
â”œâ”€ è·Ÿéš"å¤§V"
â””â”€ æ²¡æœ‰ç³»ç»Ÿ
```

#### å¦‚ä½•åˆ©ç”¨
```python
class AntiRetailStrategy:
    """åæ•£æˆ·ç­–ç•¥"""
    
    def detect_retail_panic(self, market_data):
        """
        è¯†åˆ«æ•£æˆ·ææ…Œ
        
        ä¿¡å·ï¼š
        - æˆäº¤é‡æš´å¢
        - ä»·æ ¼å¿«é€Ÿä¸‹è·Œ
        - è®¢å•ç°¿å‡ºç°å¤§é‡å°é¢å–å•
        """
        if (
            market_data['volume'] > avg_volume * 3 and
            market_data['price_change_5m'] < -0.05 and
            self.detect_small_sell_orders()
        ):
            return "RETAIL_PANIC"  # æ•£æˆ·ææ…ŒæŠ›å”®
    
    def counter_strategy(self, signal):
        """åå‘æ“ä½œ"""
        if signal == "RETAIL_PANIC":
            return "BUY"  # æ•£æˆ·ææ…Œæ—¶ä¹°å…¥
        elif signal == "RETAIL_FOMO":
            return "SELL"  # æ•£æˆ·FOMOæ—¶å–å‡º
```

### 2. é‡åŒ–ç³»ç»Ÿï¼ˆ10-15%äº¤æ˜“é‡ï¼‰

#### ç‰¹å¾
```
ä¼˜åŠ¿ï¼š
â”œâ”€ æ‰§è¡Œè¿…é€Ÿ
â”œâ”€ æ— æƒ…ç»ª
â”œâ”€ ä¸¥æ ¼æ­¢æŸ
â””â”€ çºªå¾‹æ€§å¼º

å¼±ç‚¹ï¼š
â”œâ”€ å›ºå®šæ¨¡å¼
â”œâ”€ ç®—æ³•å¯è¢«è¯†åˆ«
â”œâ”€ åŒè´¨åŒ–ä¸¥é‡
â””â”€ å®¹æ˜“è¢«é’ˆå¯¹

å¸¸è§ç­–ç•¥ï¼š
â”œâ”€ è¶‹åŠ¿è·Ÿéš
â”œâ”€ å‡å€¼å›å½’
â”œâ”€ é«˜é¢‘å¥—åˆ©
â””â”€ ç½‘æ ¼äº¤æ˜“
```

#### å¦‚ä½•åº”å¯¹
```python
class AntiQuantStrategy:
    """åé‡åŒ–ç­–ç•¥"""
    
    def identify_quant_pattern(self, order_book):
        """
        è¯†åˆ«é‡åŒ–Botæ¨¡å¼
        
        ç‰¹å¾ï¼š
        - è®¢å•å¤§å°å›ºå®š
        - ä¸‹å•é—´éš”è§„å¾‹
        - æ’¤å•é€Ÿåº¦æå¿«
        - ä½ç½®å›ºå®šï¼ˆå¦‚æ•´æ•°ä»·ä½ï¼‰
        """
        patterns = []
        
        # æ£€æµ‹ç½‘æ ¼äº¤æ˜“Bot
        if self.is_grid_trading_pattern(order_book):
            patterns.append("GRID_BOT")
        
        # æ£€æµ‹é«˜é¢‘å¥—åˆ©Bot
        if self.is_hft_pattern(order_book):
            patterns.append("HFT_BOT")
        
        return patterns
    
    def exploit_bot_weakness(self, pattern):
        """åˆ©ç”¨Botå¼±ç‚¹"""
        if pattern == "GRID_BOT":
            # ç½‘æ ¼Botåœ¨çªç ´æ—¶ä¼šæ­¢æŸ
            return "BREAK_GRID"
        
        elif pattern == "HFT_BOT":
            # é«˜é¢‘Botå®³æ€•å¤§å•
            return "USE_LARGE_ORDERS"
```

### 3. åšå¸‚å•†ï¼ˆ5-10%äº¤æ˜“é‡ï¼‰

#### ç‰¹å¾
```
è§’è‰²ï¼š
â”œâ”€ æä¾›æµåŠ¨æ€§
â”œâ”€ èµšå–å·®ä»·
â”œâ”€ ç®¡ç†åº“å­˜
â””â”€ é£é™©ä¸­æ€§

è¡Œä¸ºï¼š
â”œâ”€ åŒè¾¹æŒ‚å•
â”œâ”€ å¿«é€Ÿè°ƒæ•´ä»·æ ¼
â”œâ”€ ä¸æŒæœ‰æ–¹å‘æ€§ä»“ä½
â””â”€ æˆäº¤é‡å¤§ä½†ç›ˆåˆ©è–„

å¼±ç‚¹ï¼š
â”œâ”€ å®³æ€•æ–¹å‘æ€§æ³¢åŠ¨
â”œâ”€ åº“å­˜é£é™©
â””â”€ éœ€è¦å¯¹å†²
```

#### å¦‚ä½•åˆä½œ/åˆ©ç”¨
```python
class MarketMakerStrategy:
    """ä¸åšå¸‚å•†äº’åŠ¨"""
    
    def use_liquidity(self, order_book):
        """
        åˆ©ç”¨åšå¸‚å•†æµåŠ¨æ€§
        
        ç­–ç•¥ï¼š
        - å¤§å•åˆ†æ‹†æˆå°å•
        - é¿å…æƒŠåŠ¨åšå¸‚å•†
        - åœ¨åšå¸‚å•†ä»·å·®å†…æˆäº¤
        """
        if self.has_deep_liquidity(order_book):
            return "TAKE_LIQUIDITY"  # åƒæµåŠ¨æ€§
        else:
            return "PROVIDE_LIQUIDITY"  # æä¾›æµåŠ¨æ€§
    
    def detect_inventory_adjustment(self, trades):
        """
        è¯†åˆ«åšå¸‚å•†è°ƒæ•´åº“å­˜
        
        å¦‚æœåšå¸‚å•†æŒæœ‰è¿‡å¤šå¤šå¤´åº“å­˜ï¼š
        - ä¼šå‹ä½ä»·æ ¼å‡ºè´§
        - è¿™æ˜¯çŸ­æœŸå–å‡ºä¿¡å·
        """
        if self.mm_has_long_inventory():
            return "MM_SELLING"  # åšå¸‚å•†å‹è´§
```

### 4. æœºæ„å’Œå·¨é²¸ï¼ˆ5-10%äº¤æ˜“é‡ï¼Œä½†å½±å“å¤§ï¼‰

#### ç‰¹å¾
```
ä¼˜åŠ¿ï¼š
â”œâ”€ èµ„é‡‘é‡å¤§
â”œâ”€ ä¸“ä¸šå›¢é˜Ÿ
â”œâ”€ ä¿¡æ¯ä¼˜åŠ¿
â””â”€ å¯ä»¥æ“çºµçŸ­æœŸä»·æ ¼

è¡Œä¸ºï¼š
â”œâ”€ åˆ†æ‰¹å»ºä»“
â”œâ”€ ä½¿ç”¨ç®—æ³•äº¤æ˜“
â”œâ”€ è·¨å¸‚åœºæ“ä½œ
â””â”€ é•¿æœŸæŒæœ‰

è¯†åˆ«ä¿¡å·ï¼š
â”œâ”€ å¤§é¢è®¢å•
â”œâ”€ å†°å±±è®¢å•
â”œâ”€ è·¨äº¤æ˜“æ‰€åŒæ­¥
â””â”€ æŒç»­å•å‘äº¤æ˜“
```

#### å¦‚ä½•åº”å¯¹
```python
class WhaleTracking:
    """å·¨é²¸è¿½è¸ª"""
    
    def detect_whale_activity(self, order_book, trades):
        """
        è¯†åˆ«å¤§èµ„é‡‘æ´»åŠ¨
        
        ä¿¡å·ï¼š
        - å¤§é¢å¸‚ä»·å•
        - éšè—è®¢å•ï¼ˆå†°å±±ï¼‰
        - æŒç»­å¸ç­¹æˆ–å‡ºè´§
        """
        whale_signals = []
        
        # æ£€æµ‹å¤§é¢äº¤æ˜“
        large_trades = [t for t in trades if t['amount'] > threshold]
        if len(large_trades) > 10:
            whale_signals.append("WHALE_ACTIVE")
        
        # æ£€æµ‹å†°å±±è®¢å•
        if self.detect_iceberg_orders(order_book):
            whale_signals.append("ICEBERG_ORDER")
        
        return whale_signals
    
    def follow_or_fade(self, whale_signals):
        """
        è·Ÿéšè¿˜æ˜¯å¯¹æŠ—ï¼Ÿ
        
        ç­–ç•¥ï¼š
        - æ—©æœŸï¼šè·Ÿéšï¼ˆå·¨é²¸é€šå¸¸æœ‰ä¿¡æ¯ä¼˜åŠ¿ï¼‰
        - åæœŸï¼šå¯¹æŠ—ï¼ˆå·¨é²¸å¯èƒ½è¦å‡ºè´§ï¼‰
        """
        if self.is_early_accumulation():
            return "FOLLOW"  # è·Ÿéšå·¨é²¸å»ºä»“
        elif self.is_late_distribution():
            return "FADE"  # å·¨é²¸å‡ºè´§æ—¶åå‘
```

---

## äºŒã€Agentè¡Œä¸ºè®¾è®¡åŸåˆ™

### åŸåˆ™1ï¼šç†è§£å¯¹æ‰‹ï¼Œè€Œéé¢„æµ‹å¸‚åœº

```python
# âŒ ä¼ ç»ŸæŠ€æœ¯åˆ†æï¼ˆåªçœ‹å›¾è¡¨ï¼‰
if MA_cross_up():
    buy()

# âœ… åšå¼ˆè®ºæ€ç»´ï¼ˆç†è§£å¯¹æ‰‹ï¼‰
if retail_panic_selling():
    buy()  # æ•£æˆ·ææ…Œæ—¶ä¹°å…¥
    
elif quant_bot_detected():
    exploit_bot_pattern()  # é’ˆå¯¹Botå¼±ç‚¹
    
elif whale_accumulating():
    follow_whale()  # è·Ÿéšå¤§èµ„é‡‘
```

### åŸåˆ™2ï¼šå¤šå±‚æ¬¡åˆ†æ

```
å¸‚åœºè¡¨è±¡ï¼ˆæŠ€æœ¯æŒ‡æ ‡ï¼‰
    â†“ ä¸ºä»€ä¹ˆè¿™æ ·ï¼Ÿ
å¯¹æ‰‹è¡Œä¸ºï¼ˆè®¢å•ç°¿ã€æˆäº¤ï¼‰
    â†“ è°åœ¨ä¸»å¯¼ï¼Ÿ
å¯¹æ‰‹æ„å›¾ï¼ˆå¿ƒç†ã€ç­–ç•¥ï¼‰
    â†“ å¦‚ä½•åº”å¯¹ï¼Ÿ
æˆ‘ä»¬çš„ç­–ç•¥
```

### åŸåˆ™3ï¼šé€‚åº”æ€§è¿›åŒ–

```python
class AdaptiveAgent:
    """é€‚åº”æ€§Agent"""
    
    def __init__(self):
        # å¤šå¥—ç­–ç•¥åº“
        self.strategies = {
            'anti_retail': AntiRetailStrategy(),
            'anti_quant': AntiQuantStrategy(),
            'follow_whale': WhaleFollowStrategy(),
            'market_making': MarketMakingStrategy()
        }
    
    def select_strategy(self, market_state):
        """
        æ ¹æ®å¸‚åœºä¸»å¯¼è€…é€‰æ‹©ç­–ç•¥
        """
        dominant_player = self.identify_dominant_player()
        
        if dominant_player == "RETAIL":
            return self.strategies['anti_retail']
        elif dominant_player == "QUANT":
            return self.strategies['anti_quant']
        elif dominant_player == "WHALE":
            return self.strategies['follow_whale']
        else:
            return self.strategies['market_making']
```

---

## ä¸‰ã€å…·ä½“å®ç°ï¼šAgentçš„åšå¼ˆèƒ½åŠ›

### èƒ½åŠ›1ï¼šè®¢å•ç°¿åˆ†æ

```python
class OrderBookIntelligence:
    """è®¢å•ç°¿æ™ºèƒ½åˆ†æ"""
    
    def analyze_order_book(self, order_book):
        """
        æ·±åº¦åˆ†æè®¢å•ç°¿
        
        ä¸åªçœ‹ä»·æ ¼ï¼Œæ›´è¦çœ‹ï¼š
        - è®¢å•åˆ†å¸ƒ
        - è®¢å•å¤§å°
        - æŒ‚å•æ¨¡å¼
        - æ’¤å•è¡Œä¸º
        """
        analysis = {
            'liquidity_profile': self.analyze_liquidity(order_book),
            'order_pattern': self.detect_patterns(order_book),
            'hidden_orders': self.detect_hidden_orders(order_book),
            'dominant_player': self.identify_players(order_book)
        }
        
        return analysis
    
    def detect_fake_walls(self, order_book):
        """
        è¯†åˆ«è™šå‡å¢™å•
        
        ç‰¹å¾ï¼š
        - å¤§é¢æŒ‚å•
        - ä»·æ ¼ä¸æ–­è°ƒæ•´
        - ä»ä¸æˆäº¤
        - ç”¨äºå“å”¬å¯¹æ‰‹
        """
        walls = self.find_large_orders(order_book)
        
        fake_walls = []
        for wall in walls:
            if self.is_constantly_moving(wall):
                fake_walls.append(wall)
        
        return fake_walls
```

### èƒ½åŠ›2ï¼šæˆäº¤æ¨¡å¼è¯†åˆ«

```python
class TradePatternRecognition:
    """æˆäº¤æ¨¡å¼è¯†åˆ«"""
    
    def analyze_trade_flow(self, recent_trades):
        """
        åˆ†ææˆäº¤æµ
        
        å…³é”®é—®é¢˜ï¼š
        - è°åœ¨ä¹°ï¼Ÿè°åœ¨å–ï¼Ÿ
        - æ˜¯ä¸»åŠ¨è¿˜æ˜¯è¢«åŠ¨æˆäº¤ï¼Ÿ
        - è®¢å•å¤§å°åˆ†å¸ƒï¼Ÿ
        """
        patterns = {
            'aggressive_buying': self.count_aggressive_buys(recent_trades),
            'aggressive_selling': self.count_aggressive_sells(recent_trades),
            'trade_size_distribution': self.analyze_trade_sizes(recent_trades),
            'time_pattern': self.analyze_time_pattern(recent_trades)
        }
        
        return patterns
    
    def identify_buying_pressure(self, trades):
        """
        è¯†åˆ«ä¹°ç›˜å‹åŠ›
        
        çœŸæ­£çš„ä¹°ç›˜å‹åŠ›ï¼š
        - æŒç»­çš„ä¸»åŠ¨ä¹°å•
        - è®¢å•å¤§å°é€’å¢
        - åƒæ‰å–å¢™
        """
        aggressive_buys = [t for t in trades if t['is_taker'] and t['side'] == 'buy']
        
        if len(aggressive_buys) > threshold:
            return "STRONG_BUYING"
```

### èƒ½åŠ›3ï¼šå¯¹æ‰‹è¡Œä¸ºå­¦ä¹ 

```python
class OpponentModeling:
    """å¯¹æ‰‹å»ºæ¨¡"""
    
    def __init__(self):
        # è®°å½•è§‚å¯Ÿåˆ°çš„å¯¹æ‰‹è¡Œä¸º
        self.opponent_profiles = {}
    
    def learn_opponent_behavior(self, market_events):
        """
        å­¦ä¹ å¯¹æ‰‹è¡Œä¸ºæ¨¡å¼
        
        é€šè¿‡è§‚å¯Ÿï¼š
        - ä»€ä¹ˆæƒ…å†µä¸‹æ•£æˆ·ææ…Œï¼Ÿ
        - é‡åŒ–Botçš„è§¦å‘æ¡ä»¶ï¼Ÿ
        - å·¨é²¸çš„æ“ä½œä¹ æƒ¯ï¼Ÿ
        """
        for event in market_events:
            opponent_type = self.classify_opponent(event)
            
            if opponent_type not in self.opponent_profiles:
                self.opponent_profiles[opponent_type] = []
            
            self.opponent_profiles[opponent_type].append(event)
    
    def predict_opponent_action(self, current_state, opponent_type):
        """
        é¢„æµ‹å¯¹æ‰‹ä¸‹ä¸€æ­¥è¡ŒåŠ¨
        
        åŸºäºå†å²è¡Œä¸ºæ¨¡å¼
        """
        historical_patterns = self.opponent_profiles.get(opponent_type, [])
        
        similar_situations = [p for p in historical_patterns 
                            if self.is_similar(p['state'], current_state)]
        
        if similar_situations:
            return self.most_common_action(similar_situations)
```

---

## å››ã€åŸºå› è®¾è®¡ï¼šåšå¼ˆå¯¼å‘

### ä¼ ç»ŸåŸºå› ï¼ˆæŠ€æœ¯åˆ†æä¸ºä¸»ï¼‰
```python
gene_traditional = {
    'long_threshold': 0.7,      # æŠ€æœ¯æŒ‡æ ‡é˜ˆå€¼
    'short_threshold': 0.7,
    'stop_loss': 0.05,
    'take_profit': 0.10
}
```

### åšå¼ˆåŸºå› ï¼ˆå¯¹æ‰‹åˆ†æä¸ºä¸»ï¼‰
```python
gene_game_theory = {
    # æŠ€æœ¯åˆ†ææƒé‡ï¼ˆé™ä½ï¼‰
    'technical_weight': 0.3,
    
    # å¯¹æ‰‹åˆ†ææƒé‡ï¼ˆæé«˜ï¼‰
    'opponent_analysis_weight': 0.7,
    
    # å¯¹æ‰‹ç­–ç•¥åå¥½
    'opponent_strategies': {
        'anti_retail': 0.4,      # åæ•£æˆ·ç­–ç•¥æƒé‡
        'anti_quant': 0.2,       # åé‡åŒ–ç­–ç•¥æƒé‡
        'follow_whale': 0.3,     # è·Ÿéšå¤§èµ„é‡‘æƒé‡
        'market_making': 0.1     # åšå¸‚ç­–ç•¥æƒé‡
    },
    
    # è®¢å•ç°¿æ•æ„Ÿåº¦
    'order_book_sensitivity': 0.8,
    
    # æˆäº¤æ¨¡å¼è¯†åˆ«èƒ½åŠ›
    'trade_pattern_recognition': 0.7,
    
    # å¯¹æ‰‹è¡Œä¸ºå­¦ä¹ é€Ÿåº¦
    'opponent_learning_rate': 0.5
}
```

### æ€§æ ¼å½±å“åšå¼ˆç­–ç•¥

```python
# æ¿€è¿›å‹Agent
aggressive_agent = {
    'personality': {
        'aggression': 0.8,
        'contrarian': 0.7  # é«˜é€†å‘æ€ç»´
    },
    'preferred_opponent': 'RETAIL',  # å–œæ¬¢å¯¹æŠ—æ•£æˆ·
    'strategy': 'åå‘æ“ä½œ'
}

# è·Ÿéšå‹Agent
follower_agent = {
    'personality': {
        'herd_mentality': 0.7,
        'patience': 0.8
    },
    'preferred_opponent': 'WHALE',  # å–œæ¬¢è·Ÿéšå¤§èµ„é‡‘
    'strategy': 'è¶‹åŠ¿è·Ÿéš'
}

# å¥—åˆ©å‹Agent
arbitrage_agent = {
    'personality': {
        'discipline': 0.9,
        'risk_tolerance': 0.3
    },
    'preferred_opponent': 'MARKET_MAKER',
    'strategy': 'æµåŠ¨æ€§å¥—åˆ©'
}
```

---

## äº”ã€è¿›åŒ–ç›®æ ‡ï¼šé€‚è€…ç”Ÿå­˜

### é€‚åº”åº¦è¯„ä¼°ï¼ˆåŠ å…¥å¯¹æ‰‹ç»´åº¦ï¼‰

```python
def calculate_fitness(agent):
    """
    é€‚åº”åº¦ = ä¼ ç»ŸæŒ‡æ ‡ + åšå¼ˆèƒ½åŠ›
    """
    # ä¼ ç»ŸæŒ‡æ ‡ï¼ˆ50%ï¼‰
    traditional_fitness = (
        agent.total_return * 0.3 +
        agent.sharpe_ratio * 0.1 +
        agent.win_rate * 0.1
    )
    
    # åšå¼ˆèƒ½åŠ›ï¼ˆ50%ï¼‰
    game_theory_fitness = (
        agent.opponent_identification_accuracy * 0.2 +  # å¯¹æ‰‹è¯†åˆ«å‡†ç¡®åº¦
        agent.counter_strategy_success_rate * 0.2 +     # ååˆ¶ç­–ç•¥æˆåŠŸç‡
        agent.adaptation_speed * 0.1                    # é€‚åº”é€Ÿåº¦
    )
    
    return traditional_fitness + game_theory_fitness
```

### è¿›åŒ–æ–¹å‘

```
ç¬¬ä¸€ä»£ï¼šæŠ€æœ¯åˆ†æä¸ºä¸»
    â†“
ç¬¬äºŒä»£ï¼šå¼€å§‹è¯†åˆ«æ•£æˆ·è¡Œä¸º
    â†“
ç¬¬ä¸‰ä»£ï¼šèƒ½å¯¹æŠ—å¤šç§å¯¹æ‰‹
    â†“
ç¬¬å››ä»£ï¼šåŠ¨æ€åˆ‡æ¢ç­–ç•¥
    â†“
ç¬¬äº”ä»£ï¼šé¢„æµ‹å¯¹æ‰‹è¡Œä¸º
```

---

## å…­ã€å®æˆ˜ç­–ç•¥ç¤ºä¾‹

### ç­–ç•¥1ï¼šæ•£æˆ·ææ…ŒæŠ„åº•

```python
class PanicBottomFishing:
    """ææ…ŒæŠ„åº•ç­–ç•¥"""
    
    def detect_panic(self, market_data):
        """
        è¯†åˆ«æ•£æˆ·ææ…Œ
        
        ä¿¡å·ç»„åˆï¼š
        1. ä»·æ ¼å¿«é€Ÿä¸‹è·Œï¼ˆ5åˆ†é’Ÿ > 5%ï¼‰
        2. æˆäº¤é‡æš´å¢ï¼ˆ3å€ä»¥ä¸Šï¼‰
        3. è®¢å•ç°¿å–å•å †ç§¯
        4. ç¤¾äº¤åª’ä½“ææ…Œæƒ…ç»ª
        """
        return (
            market_data['price_change_5m'] < -0.05 and
            market_data['volume'] > avg_volume * 3 and
            self.has_heavy_sell_orders() and
            self.social_sentiment < 0.3  # è´Ÿé¢æƒ…ç»ª
        )
    
    def execute(self):
        """
        æ‰§è¡Œç­–ç•¥
        
        é€»è¾‘ï¼š
        - æ•£æˆ·ææ…Œæ—¶ä¹°å…¥
        - ç­‰å¾…åå¼¹
        - æ•£æˆ·FOMOæ—¶å–å‡º
        """
        if self.detect_panic():
            self.buy(size='large')
            self.set_target(profit=0.08)  # 8%æ­¢ç›ˆ
```

### ç­–ç•¥2ï¼šçŒæ€æ­¢æŸå•

```python
class StopLossHunting:
    """çŒæ€æ­¢æŸç­–ç•¥"""
    
    def identify_stop_clusters(self, order_book):
        """
        è¯†åˆ«æ­¢æŸå•é›†ä¸­åŒºåŸŸ
        
        æ•£æˆ·æ­¢æŸä½ç½®å¾€å¾€åœ¨ï¼š
        - æ•´æ•°ä»·ä½ï¼ˆå¦‚50000ï¼‰
        - å‰ä½ç‚¹ä¸‹æ–¹
        - æŠ€æœ¯ä½ï¼ˆMAã€æ–æ³¢é‚£å¥‘ï¼‰
        """
        stop_clusters = []
        
        # æ•´æ•°ä»·ä½
        round_numbers = self.find_round_numbers()
        
        # æŠ€æœ¯ä½
        technical_levels = self.find_technical_levels()
        
        # å†å²ä½ç‚¹
        previous_lows = self.find_previous_lows()
        
        return stop_clusters
    
    def execute(self):
        """
        æ‰§è¡Œç­–ç•¥
        
        é€»è¾‘ï¼š
        - å‘ç°æ­¢æŸå•é›†ä¸­åŒº
        - æ¨åŠ¨ä»·æ ¼è§¦å‘æ­¢æŸ
        - æ­¢æŸå•è¢«è§¦å‘ååå‘äº¤æ˜“
        """
        stop_zone = self.identify_stop_clusters()
        
        if self.can_reach_stop_zone(stop_zone):
            # æ¨åŠ¨ä»·æ ¼
            self.push_price_to(stop_zone)
            
            # ç­‰å¾…æ­¢æŸè¢«è§¦å‘
            if self.stops_triggered():
                # åå‘å»ºä»“
                self.reverse_position()
```

### ç­–ç•¥3ï¼šä¼ªè£…ä¸æ¬ºéª—

```python
class DeceptionStrategy:
    """æ¬ºéª—ç­–ç•¥"""
    
    def fake_breakout(self):
        """
        è™šå‡çªç ´
        
        è®©é‡åŒ–Botå’Œæ•£æˆ·ä»¥ä¸ºçªç ´äº†
        ç„¶ååå‘æ”¶å‰²
        """
        # 1. å°é¢æ¨é«˜ä»·æ ¼ï¼Œè§¦å‘çªç ´
        self.buy(size='small', purpose='trigger_breakout')
        
        # 2. ç­‰å¾…è¿½æ¶¨ç›˜è¿›åœº
        self.wait_for_followers()
        
        # 3. å¤§é¢åå‘å–å‡º
        self.sell(size='large', purpose='trap_followers')
    
    def iceberg_accumulation(self):
        """
        å†°å±±å•å¸ç­¹
        
        éšè—çœŸå®ä¹°å…¥æ„å›¾
        """
        # ç”¨å†°å±±è®¢å•æ…¢æ…¢å¸ç­¹
        # ä¸è®©åˆ«äººå‘ç°
        self.place_iceberg_order(
            total_size='large',
            æ˜¾ç¤º_size='small',
            è€å¿ƒç­‰å¾…='high'
        )
```

---

## ä¸ƒã€é£é™©å’Œé“å¾·è€ƒè™‘

### åˆæ³•ç­–ç•¥ âœ…
- è¯†åˆ«å¸‚åœºæƒ…ç»ª
- ç†è§£å¯¹æ‰‹è¡Œä¸º
- åˆ©ç”¨ä¿¡æ¯ä¼˜åŠ¿
- æä¾›æµåŠ¨æ€§

### éæ³•æ“ä½œ âŒ
- æ¬ºè¯ˆ
- å¸‚åœºæ“çºµ
- å†…å¹•äº¤æ˜“
- Wash trading

### ç°è‰²åœ°å¸¦ âš ï¸
- çŒæ€æ­¢æŸï¼ˆåˆæ³•ä½†æœ‰äº‰è®®ï¼‰
- è™šå‡è®¢å•ï¼ˆçœ‹ç›‘ç®¡ï¼‰
- æŠ¢å…ˆäº¤æ˜“ï¼ˆçœ‹æƒ…å†µï¼‰

**åŸåˆ™ï¼šåœ¨åˆæ³•èŒƒå›´å†…æœ€å¤§åŒ–æ”¶ç›Š**

---

## å…«ã€å®æ–½å»ºè®®

### Agentèƒ½åŠ›å‡çº§

```python
class GameTheoryAgent(AgentV4):
    """åšå¼ˆè®ºAgent"""
    
    def __init__(self):
        super().__init__()
        
        # æ–°å¢èƒ½åŠ›
        self.order_book_analyzer = OrderBookIntelligence()
        self.opponent_modeler = OpponentModeling()
        self.strategy_selector = StrategySelector()
    
    def make_decision(self, market_data):
        # 1. åˆ†æè®¢å•ç°¿
        order_book_intel = self.order_book_analyzer.analyze(
            market_data['order_book']
        )
        
        # 2. è¯†åˆ«å¯¹æ‰‹
        opponent = self.opponent_modeler.identify(
            order_book_intel,
            market_data['trades']
        )
        
        # 3. é€‰æ‹©ç­–ç•¥
        strategy = self.strategy_selector.select(opponent)
        
        # 4. æ‰§è¡Œ
        return strategy.execute(market_data)
```

### åŸºå› åº“å‡çº§

```python
# ä¿å­˜"å¯¹æŠ—ç‰¹å®šå¯¹æ‰‹"çš„ä¼˜ç§€åŸºå› 
gene_pool.add_specialized_gene(
    gene=agent.gene,
    specialty='anti_retail',  # æ“…é•¿å¯¹æŠ—æ•£æˆ·
    performance_vs_retail=0.85  # å¯¹æŠ—æ•£æˆ·èƒœç‡
)
```

---

## ä¹ã€æ€»ç»“

### æ ¸å¿ƒæ€æƒ³

**äº¤æ˜“ä¸æ˜¯é¢„æµ‹ï¼Œè€Œæ˜¯åšå¼ˆ**

```
âŒ ä¼ ç»Ÿæ€ç»´ï¼š
    é¢„æµ‹ä»·æ ¼ â†’ äº¤æ˜“

âœ… åšå¼ˆæ€ç»´ï¼š
    è¯†åˆ«å¯¹æ‰‹ â†’ ç†è§£æ„å›¾ â†’ é’ˆå¯¹æ€§ç­–ç•¥ â†’ äº¤æ˜“
```

### Agentåº”è¯¥å…·å¤‡

1. **è§‚å¯Ÿèƒ½åŠ›**
   - è®¢å•ç°¿æ·±åº¦åˆ†æ
   - æˆäº¤æ¨¡å¼è¯†åˆ«
   - å¯¹æ‰‹è¡Œä¸ºè¿½è¸ª

2. **ç†è§£èƒ½åŠ›**
   - å¯¹æ‰‹ç±»å‹è¯†åˆ«
   - æ„å›¾åˆ¤æ–­
   - å¼±ç‚¹å‘ç°

3. **ç­–ç•¥èƒ½åŠ›**
   - å¤šç­–ç•¥åº“
   - åŠ¨æ€åˆ‡æ¢
   - é’ˆå¯¹æ€§ååˆ¶

4. **å­¦ä¹ èƒ½åŠ›**
   - å¯¹æ‰‹è¡Œä¸ºå»ºæ¨¡
   - ç­–ç•¥æ•ˆæœè¯„ä¼°
   - æŒç»­ä¼˜åŒ–

### è¿›åŒ–ç›®æ ‡

**åŸ¹å…»å‡ºèƒ½ç†è§£å¯¹æ‰‹ã€åˆ©ç”¨å¯¹æ‰‹å¼±ç‚¹çš„æ™ºèƒ½Agent**

ä¸æ˜¯"é¢„æµ‹å¤§å¸ˆ"ï¼Œè€Œæ˜¯"åšå¼ˆé«˜æ‰‹"ã€‚

---

æœ€åæ›´æ–°ï¼š2025å¹´12æœˆ1æ—¥

